<template>
  <lightning-card>
    <div class="slds-p-horizontal_small">
      <!-- START - Question Field Editor Form Section -->
      <template if:false={questionCreated}>
        <!-- START - Assessement Question Fields Editor Form Section -->

        <div class="assessment-question">
          <lightning-record-edit-form object-api-name={assessmentQuestion}>
            <lightning-layout multiple-rows>
              <lightning-layout-item size="12">
                <lightning-messages></lightning-messages>
              </lightning-layout-item>
              <lightning-layout-item size="12">
                <div class="slds-grid">
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-input-field
                      value={strName}
                      ondragover={allowDrop}
                      ondrop={nameDropHandler}
                      onchange={nameChangedHandler}
                      field-name="Name"
                    ></lightning-input-field>
                  </div>
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-input-field
                      value={strDevName}
                      onchange={devNameChangedHandler}
                      field-name="DeveloperName"
                    ></lightning-input-field>
                  </div>
                </div>
                <div class="slds-grid">
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-input-field
                      value={strQuestionCategory}
                      onchange={questionCategoryChangedHandler}
                      field-name="QuestionCategory"
                    ></lightning-input-field>
                  </div>
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-input-field
                      value={strDataType}
                      onchange={dataTypeChangedHandler}
                      field-name="DataType"
                    ></lightning-input-field>
                  </div>
                </div>
                <div class="slds-grid">
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-input-field
                      value={strRelatedQuestionId}
                      onchange={relatedQuestionIdChangedHandler}
                      field-name="RelatedQuestionId"
                    ></lightning-input-field>
                  </div>
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-input-field
                      value={strFormulaResponseDataType}
                      onchange={formulaResponseDataTypeChangedHandler}
                      field-name="FormulaResponseDataType"
                    ></lightning-input-field>
                  </div>
                </div>
              </lightning-layout-item>
            </lightning-layout>
          </lightning-record-edit-form>
        </div>

        <!-- END - Assessement Question Fields Editor Form Section -->

        <!-- START - Assessement Question Version Fields Editor Form Section -->

        <div class="assessment-question-version">
          <lightning-record-edit-form
            object-api-name={assessmentQuestionVersion}
          >
            <lightning-layout multiple-rows>
              <lightning-layout-item size="12">
                <lightning-messages></lightning-messages>
              </lightning-layout-item>

              <lightning-layout-item size="12">
                <div class="slds-grid">
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-input-field
                      value={strQuestionText}
                      onchange={questionTextChangeHandler}
                      ondragover={allowDrop}
                      ondrop={questionTextDropHandler}
                      field-name="QuestionText"
                    ></lightning-input-field>
                  </div>
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-input-field
                      value={strDescription}
                      onchange={descriptionChangeHandler}
                      ondragover={allowDrop}
                      ondrop={descriptionDropHandler}
                      field-name="Description"
                    ></lightning-input-field>
                  </div>
                </div>

                <div class="slds-grid">
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-input-field
                      value={strIsActive}
                      onchange={activeChangeHandler}
                      field-name="IsActive"
                    ></lightning-input-field>
                  </div>
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-input-field
                      value={strResponseValues}
                      onchange={responseValuesChangeHandler}
                      ondragover={allowDrop}
                      ondrop={responseValuesDropHandler}
                      field-name="ResponseValues"
                    ></lightning-input-field>
                  </div>
                </div>
              </lightning-layout-item>
              <lightning-layout-item
                size="12"
                class="slds-align_absolute-center"
              >
                <lightning-button
                  label="Cancel"
                  class="slds-m-right_small"
                  onclick={resetForm}
                ></lightning-button>
                <lightning-button
                  onclick={createQuestion}
                  variant="brand"
                  label="Save"
                  class="questionFieldSubmit"
                ></lightning-button>
              </lightning-layout-item>
            </lightning-layout>
          </lightning-record-edit-form>
        </div>
        <!-- END - Assessement Question Version Fields Editor Form Section -->
      </template>
      <!-- END - Question Field Editor Form Section -->

      <!-- START - Question Field Viewer Form Section -->
      <template if:true={questionCreated}>
        <!-- START - Assessement Question Fields Viewer Form Section -->
        <div class="assessment-question">
          <lightning-record-view-form
            record-id={assessmentQuestionRecordId}
            object-api-name={assessmentQuestion}
          >
            <lightning-layout multiple-rows>
              <lightning-layout-item size="12">
                <lightning-messages></lightning-messages>
              </lightning-layout-item>
              <lightning-layout-item size="12">
                <div class="slds-grid">
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-output-field
                      field-name="Name"
                    ></lightning-output-field>
                  </div>
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-output-field
                      field-name="DeveloperName"
                    ></lightning-output-field>
                  </div>
                </div>
                <div class="slds-grid">
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-output-field
                      field-name="QuestionCategory"
                    ></lightning-output-field>
                  </div>
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-output-field
                      field-name="DataType"
                    ></lightning-output-field>
                  </div>
                </div>
                <div class="slds-grid">
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-output-field
                      field-name="RelatedQuestionId"
                    ></lightning-output-field>
                  </div>
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-output-field
                      field-name="FormulaResponseDataType"
                    ></lightning-output-field>
                  </div>
                </div>
              </lightning-layout-item>
            </lightning-layout>
          </lightning-record-view-form>
        </div>
        <!-- END - Assessement Question Fields Viewer Form Section -->

        <!-- START - Assessement Question Version Fields Viewer Form Section -->
        <div class="assessment-question-version">
          <lightning-record-view-form
            record-id={assessmentQuestionVersionId}
            object-api-name={assessmentQuestionVersion}
          >
            <lightning-layout multiple-rows>
              <lightning-layout-item size="12">
                <lightning-messages></lightning-messages>
              </lightning-layout-item>

              <lightning-layout-item size="12">
                <div class="slds-grid">
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-output-field
                      field-name="QuestionText"
                    ></lightning-output-field>
                  </div>
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-output-field
                      field-name="Description"
                    ></lightning-output-field>
                  </div>
                </div>

                <div class="slds-grid">
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-output-field
                      field-name="IsActive"
                    ></lightning-output-field>
                  </div>
                  <div class="slds-col slds-size_1-of-2">
                    <lightning-messages></lightning-messages>
                    <lightning-output-field
                      field-name="ResponseValues"
                    ></lightning-output-field>
                  </div>
                </div>
              </lightning-layout-item>
            </lightning-layout>
          </lightning-record-view-form>
        </div>
        <!-- END - Assessement Question Version Fields Viewer Form Section -->
      </template>
      <!-- END - Question Field Viewer Form Section -->
    </div>
  </lightning-card>
</template>
